<div class="box-shadow bg-white p-2">
    <div class="d-flex flex-row justify-content-between w-100 align-items-center">
        <div>
            <img src="../../../assets/img/hermes-title-purchase.svg" class="header-icon">
        </div>
        <div class="d-flex w-25 align-items-center">
            <input 
            class="form-control" 
            type="text" 
            placeholder="Buscar..." 
            [formControl]="searchInput"
            [matAutocomplete]="autoSearch" 
            style="width: 90%;"
            (keydown.tab)="goToChannel()"
            (keydown.enter)="goToChannel()">
                <mat-progress-spinner class="form-spinner" *ngIf="searching" mode="indeterminate" [diameter]="20">
                    </mat-progress-spinner>
            <mat-autocomplete #autoSearch="matAutocomplete"
                (optionSelected)="loadOptionSelected($event)">
                <mat-option *ngFor="let element of results" [value]="element">
                    <span [class.font-weight-bold]="element.hasOwnProperty('title')">{{formatLead(element)}}</span>
                    <span class="text-muted font-weight-light">&nbsp;&nbsp;{{formatSecondary(element)}}</span>
                </mat-option>
            </mat-autocomplete>
        </div>
        <div class="d-flex flex-row align-items-center">
            <div class="profile-button mr-2 status-indicator">
                <img src="../../../assets/profile_imgs/pi_{{profile_img}}.svg" class="header-profile-img">
            </div>
            <div class="h6 m-0">
                <span class="font-weight-light text-dark">{{name}}</span>
            </div>
            <button mat-icon-button [matMenuTriggerFor]="menu">
                <mat-icon>arrow_drop_down</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="goAccount()">Cuenta</button>
                <mat-divider></mat-divider>
                <button mat-menu-item (click)="logout()">Salir</button>
            </mat-menu>
        </div>
    </div>
</div>